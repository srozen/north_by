<%= turbo_stream_from(current_user, :favorites) %>
<section data-controller="sold-out-data">
  <section>
    <div class="grid grid-cols-7 gap-0 mb-6" data-controller="calendar">
      <% @schedule.schedule_days.each do |schedule_day| %>
        <% date_string = schedule_day.day.by_example("2006-01-02") %>
        <section class="column">
          <div
            class="text-center border-b-2 border-transparent cursor-pointer"
            data-controller="css"
            data-css-css-class="border-red-700"
            data-css-status-value="false"
            data-css-target="elementToChange"
            data-calendar-target="calendarDay"
            data-schedule-id="day-body-<%= schedule_day.day_string %>"
            data-action="click->css#toggle click->calendar#filter">
            <%= schedule_day.day.by_example("Jan 2") %>
          </div>
        </section>
      <% end %>
      <div data-action="click->calendar#showAll" class="cursor-pointer">
        Show All
      </div>
    </div>
<!--    <div class="flex justify-center">-->
      <%= render('search_form_html') %>
<!--    </div>-->
  </section>
  <br>
  <% if current_user %>
    <%= render("favorites/list") %>
  <% end %>
  <section class="js--day">
    <% @schedule.schedule_days.each do |schedule_day| %>
      <% date_string = schedule_day.day.by_example("2006-01-02") %>
      <section class="day-body"
               id="day-body-<%= schedule_day.day_string %>">
        <%= render(schedule_day, show: !schedule_day.hidden) %>
      </section>
      <br>
    <% end %>
  </section>
</section>
